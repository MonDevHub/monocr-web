import{a0 as Q,g as z,a1 as U,a2 as D,b as X,a3 as N,q as g,D as c,C as p,k as _,G as Y,H as Z,a4 as M,L as tt,B as f,a5 as T,z as x,A as V,a6 as st,j as W,s as $,a7 as A,a8 as it,l as et,c as B,E as nt,a9 as F,aa as at,ab as G,ac as ht,ad as rt,y as C,N as m,n as ot,M as lt,ae as H,af as ut,I as dt,ag as ct,ah as pt,ai as ft,aj as E,ak as vt,K as gt,al as _t,am as I,O as y,an as mt,ao as yt,ap as wt,aq as bt,R as jt,ar as kt,as as Mt,T as Tt}from"./BcHN-y2m.js";import{a as xt,r as K,h as O}from"./BSrX1ito.js";import{b as Ct}from"./CMr_Z6yQ.js";var Et=dt|ct|pt;class Lt{parent;is_pending=!1;#s;#m=p?c:null;#e;#u;#n;#i=null;#t=null;#a=null;#h=null;#l=null;#d=0;#r=0;#p=!1;#c=!1;#f=new Set;#v=new Set;#o=null;#b=(function(t){let s,e=0,a=D(0);return()=>{Q()&&(z(a),U(()=>(e===0&&(s=X(()=>t(()=>N(a)))),e+=1,()=>{g(()=>{e-=1,e===0&&(s?.(),s=void 0,N(a))})})))}})(()=>(this.#o=D(this.#d),()=>{this.#o=null}));constructor(t,s,e){this.#s=t,this.#e=s,this.#u=e,this.parent=_.b,this.is_pending=!!this.#e.pending,this.#n=Y(()=>{if(_.b=this,p){const i=this.#m;Z(),i.nodeType===M&&i.data===tt?this.#k():(this.#j(),this.#r===0&&(this.is_pending=!1))}else{var a=this.#y();try{this.#i=f(()=>e(a))}catch(i){this.error(i)}this.#r>0?this.#_():this.is_pending=!1}return()=>{this.#l?.remove()}},Et),p&&(this.#s=c)}#j(){try{this.#i=f(()=>this.#u(this.#s))}catch(t){this.error(t)}}#k(){const t=this.#e.pending;t&&(this.#t=f(()=>t(this.#s)),g(()=>{var s=this.#y();this.#i=this.#g(()=>(T.ensure(),f(()=>this.#u(s)))),this.#r>0?this.#_():(x(this.#t,()=>{this.#t=null}),this.is_pending=!1)}))}#y(){var t=this.#s;return this.is_pending&&(this.#l=V(),this.#s.before(this.#l),t=this.#l),t}defer_effect(t){st(t,this.#f,this.#v)}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!this.#e.pending}#g(t){var s=_,e=et,a=B;W(this.#n),$(this.#n),A(this.#n.ctx);try{return t()}catch(i){return it(i),null}finally{W(s),$(e),A(a)}}#_(){const t=this.#e.pending;this.#i!==null&&(this.#h=document.createDocumentFragment(),this.#h.append(this.#l),nt(this.#i,this.#h)),this.#t===null&&(this.#t=f(()=>t(this.#s)))}#w(t){if(this.has_pending_snippet()){if(this.#r+=t,this.#r===0){this.is_pending=!1;for(const s of this.#f)F(s,at),G(s);for(const s of this.#v)F(s,ht),G(s);this.#f.clear(),this.#v.clear(),this.#t&&x(this.#t,()=>{this.#t=null}),this.#h&&(this.#s.before(this.#h),this.#h=null)}}else this.parent&&this.parent.#w(t)}update_pending_count(t){this.#w(t),this.#d+=t,this.#o&&!this.#p&&(this.#p=!0,g(()=>{this.#p=!1,this.#o&&rt(this.#o,this.#d)}))}get_effect_pending(){return this.#b(),z(this.#o)}error(t){var s=this.#e.onerror;let e=this.#e.failed;if(this.#c||!s&&!e)throw t;this.#i&&(C(this.#i),this.#i=null),this.#t&&(C(this.#t),this.#t=null),this.#a&&(C(this.#a),this.#a=null),p&&(m(this.#m),ot(),m(lt()));var a=!1,i=!1;const o=()=>{a?ft():(a=!0,i&&ut(),T.ensure(),this.#d=0,this.#a!==null&&x(this.#a,()=>{this.#a=null}),this.is_pending=this.has_pending_snippet(),this.#i=this.#g(()=>(this.#c=!1,f(()=>this.#u(this.#s)))),this.#r>0?this.#_():this.is_pending=!1)};g(()=>{try{i=!0,s?.(t,o),i=!1}catch(u){H(u,this.#n&&this.#n.parent)}e&&(this.#a=this.#g(()=>{T.ensure(),this.#c=!0;try{return f(()=>{e(this.#s,()=>t,()=>o)})}catch(u){return H(u,this.#n.parent),null}finally{this.#c=!1}}))})}}const St=["touchstart","touchmove"];function qt(n){return St.includes(n)}let L=!0;function zt(n,t){var s=t==null?"":typeof t=="object"?t+"":t;s!==(n.__t??=n.nodeValue)&&(n.__t=s,n.nodeValue=s+"")}function P(n,t){return R(n,t)}function Dt(n,t){E(),t.intro=t.intro??!1;const s=t.target,e=p,a=c;try{for(var i=vt(s);i&&(i.nodeType!==M||i.data!==gt);)i=_t(i);if(!i)throw I;y(!0),m(i);const o=R(n,{...t,anchor:i});return y(!1),o}catch(o){if(o instanceof Error&&o.message.split(`
`).some(u=>u.startsWith("https://svelte.dev/e/")))throw o;return t.recover===!1&&mt(),E(),yt(s),y(!1),P(n,t)}finally{y(e),m(a)}}const w=new Map;function R(n,{target:t,anchor:s,props:e={},events:a,context:i,intro:o=!0}){E();var u=new Set,b=d=>{for(var r=0;r<d.length;r++){var h=d[r];if(!u.has(h)){u.add(h);var v=qt(h);for(const k of[t,document]){var l=w.get(k);l===void 0&&(l=new Map,w.set(k,l));var q=l.get(h);q===void 0?(k.addEventListener(h,O,{passive:v}),l.set(h,1)):l.set(h,q+1)}}}};b(wt(xt)),K.add(b);var j=void 0,J=bt(()=>{var d=s??t.appendChild(V());return(function(r,h,v){new Lt(r,h,v)})(d,{pending:()=>{}},r=>{if(jt({}),i&&(B.c=i),a&&(e.$$events=a),p&&Ct(r,null),L=o,j=n(r,e)||{},L=!0,p&&(_.nodes.end=c,c===null||c.nodeType!==M||c.data!==kt))throw Mt(),I;Tt()}),()=>{for(var r of u)for(const l of[t,document]){var h=w.get(l),v=h.get(r);--v==0?(l.removeEventListener(r,O),h.delete(r),h.size===0&&w.delete(l)):h.set(r,v)}K.delete(b),d!==s&&d.parentNode?.removeChild(d)}});return S.set(j,J),j}let S=new WeakMap;function Nt(n,t){const s=S.get(n);return s?(S.delete(n),s(t)):Promise.resolve()}export{L as a,Dt as h,P as m,zt as s,Nt as u};
